// IRMA 'login form'
//
// A place to nicely show the different states of the IRMA disclosure flow.
//
// Helper triggers:
// <ul>
//   <li><a href="javascript:document.querySelectorAll('.helper').forEach((h) => h.classList.add('active'))">Show helper</a></li>
//   <li><a href="javascript:document.querySelectorAll('.helper').forEach((h) => h.classList=['helper'])">Hide helper</a></li>
//   <li><a href="javascript:document.querySelectorAll('.helper').forEach((h) => h.classList.add('auto-activate'))">Auto-show helper after 10 seconds</a></li>
// </ul>
//
// Markup:
// <section class="irma-web-form">
//   <header class="header">
//     <p>Inloggen met <img src="https://raw.githubusercontent.com/privacybydesign/irma_mobile/master/android/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png"/></p>
//   </header>
//   <section class="content">
//     <section class="helper">
//       <p>Kom je er niet uit? Kijk dan eerst eens op <a href="https://privacybydesign.foundation/irma-begin/">de website van IRMA</a>.</p>
//     </section>
//     <section class="centered">
//       <button>Some action here</button>
//       <p>With some text <a href="#">and stuff</a></p>
//     </section>
//   </section>
// </section>
//
// Styleguide Components.IRMA login

@import '../mixins/reset',
        '../mixins/fonts',
        '../mixins/responsiveness',
        '../mixins/center',
        '../mixins/animation',
        '../variables/colours',
        '../variables/sizes';

.irma-web-form {
  @include reset;
  display: flex;
  flex-direction: column;
  width: 80%;
  min-width: $qr-code-size + 6px;
  max-width: 400px;
  min-height: $qr-code-size + 224px;

  @include on-small-screen {
    min-height: $qr-code-size + 184px;
  }

  background-color: $background-color;
  border: 1px solid $border-color;
  border-radius: $border-radius;

  .header {
    @include reset;
    flex: 0 0 auto;
    padding: 2em;
    margin: 0 3px;
    z-index: 1;

    text-align: center;
    background-color: $background-color;
    border-bottom: 1px solid $border-color;
    border-top-left-radius: $border-radius - 1;
    border-top-right-radius: $border-radius - 1;

    @include on-small-screen {
      padding: 1em;
    }

    p {
      @include reset;
      @include font($size: 20px);

      @include on-small-screen {
        @include font($size: 16px);
      }
    }

    img {
      @include reset;
      height: 50px;
      vertical-align: middle;
    }
  }

  .content {
    @include reset;
    @include center;
    flex: 1 1 auto;
    position: relative;
    z-index: 0;

    .centered {
      @include reset;
      height: auto;
      text-align: center;
    }

    p {
      @include reset;
      @include font($color: $subtle-text-color, $size: 15px);
      margin: 1em 4em;

      @include on-small-screen {
        margin: 1em 2em;
      }
    }

    a {
      @include reset;
      @include font($color: $text-color, $size: 15px);
      text-decoration: underline;

      &:hover {
        color: $irma-blue;
      }
    }

    .helper {
      @include reset;
      position: absolute;
      top: 0;
      left: 10%;
      right: 10%;
      height: auto;

      background-color: $helper-color;
      border: 1px solid darken($helper-color, 10%);
      border-top: 0;
      border-bottom-left-radius: 10px;
      border-bottom-right-radius: 10px;
      box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.5);

      // Animate in
      transform: translateY(-110%);
      @include transition(transform 0.4s ease-in-out);
      &.active {
        transform: translateY(0%);
      }

      // Show the helper automatically after 10 seconds of inactivity
      &.auto-activate {
        @include animation(auto-activate 0.4s ease-in-out 10s 1 forwards);
        @include keyframes(auto-activate) {
          from {
            transform: translateY(-110%);
          }
          to {
            transform: translateY(0%);
          }
        }
      }

      p, a {
        @include font($color: white, $size: 13px);
      }
      p {
        margin: 1em;
        text-align: center;
      }
    }
  }

}
